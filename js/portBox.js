!function(o){o(document).on("click","[data-display]",function(t){t.preventDefault();var i=o(this).attr("data-display");o("#"+i).display(o(this).data())}),o.fn.display=function(t){var i={animation:"fade",animationspeed:200,closeBGclick:!0};return t=o.extend({},i,t),this.each(function(){function i(){r=!1}function n(){r=!0}var e,s=o(this),r=!1,a=o(".portBox-overlay"),c=!1;navigator.userAgent.match(/Windows Phone/i)&&(c=!0),0==a.length&&(a=o('<div class="portBox-overlay" />').insertAfter(s)),e="function"==typeof o.fn.slimScroll?!0:!1,0==s.has(".scrollBar").length&&1==e&&(s.wrapInner('<div class="scrollBar" style="padding-right:20px;" />'),s.css({"padding-right":10}),o(function(){o(".scrollBar").slimScroll({height:"100%"})}),s.append('<a class="close-portBox">&#215;</a>')),0==s.has(".close-portBox").length&&0==e&&s.append('<a class="close-portBox">&#215;</a>'),s.center=function(){var t,i;if(s.outerHeight()+25>o(window).height()&&e===!0&&c===!1){var n=o(window).height()-80;s.css({height:n+"px"})}s.css({top:0,left:0}),t=Math.max(o(window).height()-s.outerHeight(),0)/2,i=Math.max(o(window).width()-s.outerWidth(),0)/2,s.css({top:t+o(window).scrollTop(),left:i+o(window).scrollLeft()}),s.innerWidth()+10>=o(window).width()?(s.css({"margin-right":"5px"}),o(".close-portBox").css({top:3,right:3})):(s.css({"margin-right":"0px"}),o(".close-portBox").css({top:-6,right:-7})),s.outerHeight()>=o(window).height()&&0==e&&s.css({top:20+o(window).scrollTop()})},s.center(),o(window).on("resize.portBox",s.center),s.on("portBox:open",function(){r||(n(),""==t.animation?(s.css({display:"block"}),a.css({display:"block"}),i()):(a.fadeIn(t.animationspeed),s.show(t.animation,t.animationspeed),i()))}),s.on("portBox:close",function(){r||(n(),""==t.animation?(s.css({display:"none"}),a.css({display:"none"}),i()):(a.fadeOut(t.animationspeed),s.fadeOut(t.animationspeed),i()),o(window).off("resize.portBox"))}),s.trigger("portBox:open");o(".close-portBox").one("click.portBoxEvent",function(){s.trigger("portBox:close")});t.closeBGclick&&(a.css({cursor:"pointer"}),a.one("click.portBoxEvent",function(){s.trigger("portBox:close")})),o("body").keyup(function(o){27===o.which&&s.trigger("portBox:close")})})}}(jQuery);